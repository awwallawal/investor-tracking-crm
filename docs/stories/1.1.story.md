# Epic 1: Foundation & Core Platform Setup

## Story 1.1: Project Initialization & Health Check

**Status:** Done

### File List
- `package.json` (modified)
- `apps/frontend/package.json` (new)
- `apps/frontend/src/App.tsx` (modified)
- `apps/frontend/src/index.css` (new)
- `apps/frontend/src/main.tsx` (new)
- `apps/frontend/vite-env.d.ts` (new)
- `apps/frontend/index.html` (new)
- `apps/frontend/public/vite.svg` (new)
- `apps/frontend/src/assets/react.svg` (new)
- `apps/api/package.json` (new)
- `apps/api/src/index.ts` (new)
- `apps/api/tsconfig.json` (new)
- `apps/api/tests/health.test.ts` (new)
- `apps/api/jest.config.js` (new)
- `README.md` (new)

---

### Story

*As a* System Administrator,
*I want* the initial project structure, dependencies, and a basic health check endpoint to be created,
*so that* we have a verifiable, running application skeleton to build upon.

### Acceptance Criteria

1.  The project is initialized in a single Git repository (monorepo).
2.  The codebase is structured with separate directories for frontend and backend code.
3.  The backend service can be started and exposes a `/health` endpoint that returns a `200 OK` status.
4.  The frontend application can be started and displays a simple placeholder page (e.g., "Welcome to OYSIPA Investor Tracker").

---

### Dev Notes

This initial story sets up the entire project structure. All work must adhere to the decisions made in the architecture documents.

*   **Project Structure:** [Source: architecture/2-high-level-architecture.md]
    *   Initialize a monorepo using `npm workspaces`.
    *   Create two main packages in the `apps` directory: `apps/frontend` and `apps/api`.

*   **Frontend Setup:** [Source: architecture/3-tech-stack.md]
    *   The `apps/frontend` package should be initialized as a **Vite** project with the **React** and **TypeScript** template.
    *   Install base dependencies: `react`, `react-dom`, `typescript`.

*   **Backend Setup:** [Source: architecture/3-tech-stack.md]
    *   The `apps/api` package should be a standard **Node.js** project with **TypeScript**.
    *   Install base dependencies: `express`, `typescript`, `ts-node`, `@types/express`, `@types/node`.

*   **API Specification:** [Source: architecture/5-api-specification.md]
    *   The backend service must implement a `GET /health` endpoint.
    *   This endpoint should return a JSON object `{"status": "ok"}` with a `200` status code.

*   **Testing Requirements:** [Source: architecture/3-tech-stack.md]
    *   A test should be created for the `/health` endpoint.
    *   Use **Jest** and **Supertest** for this API test.

---

### Tasks / Subtasks

-   [x] **Task 1: Initialize Project Repository**
    -   [x] Initialize a new Git repository.
    -   [x] Create a root `package.json` and configure it for `npm workspaces`.
    -   [x] Create the `apps` and `packages` directories.

-   [x] **Task 2: Set Up Frontend Application** (AC: 2, 4)
    -   [x] In the `apps/frontend` directory, initialize a new Vite project with the React + TypeScript template.
    -   [x] Ensure the default Vite application can be started with `npm run dev`.
    -   [x] Modify the main App component to display a simple `<h1>` with the text "Welcome to OYSIPA Investor Tracker".

-   [x] **Task 3: Set Up Backend Application** (AC: 2, 3)
    -   [x] In the `apps/api` directory, initialize a new `package.json`.
    *   [x] Install Express, TypeScript, and related type definitions.
    -   [x] Create a basic Express server in a `src/index.ts` file.
    -   [x] Implement the `GET /health` endpoint.
    -   [x] Add an `npm run dev` script to start the server using `ts-node`.

-   [x] **Task 4: Implement Backend Test** (AC: 3)
    -   [x] Set up Jest and Supertest in the `apps/api` package.
    -   [x] Write a test file that makes a request to the `/health` endpoint and asserts a `200` status code and the correct JSON response.

-   [x] **Task 5: Documentation**
    -   [x] Create a root `README.md` with basic instructions on how to install dependencies and run the frontend and backend applications.
---

## QA Results

### Review Date: 2025-09-09

### Reviewed By: Quinn (Test Architect)

### Code Quality Assessment

The initial implementation was functional and met all acceptance criteria. Minor refactoring was performed on the backend API's package configuration and module handling to align with modern best practices, improving maintainability and preventing potential tooling issues.

### Refactoring Performed

- **File**: `apps/api/package.json`
  - **Change**: Moved testing dependencies to `devDependencies` and explicitly added `express`.
  - **Why**: Correctly separates production dependencies from development/testing dependencies.
  - **How**: Improves dependency management and reduces the size of production installs.

- **File**: `apps/api/tsconfig.json`
  - **Change**: Updated compiler options (`target`, `moduleResolution`) and added `include`/`exclude` patterns.
  - **Why**: Aligns with modern TypeScript and Node.js standards for better compatibility and stricter type checking.
  - **How**: Ensures the compiler is properly configured for the project structure.

- **File**: `apps/api/src/index.ts` & `apps/api/tests/health.test.ts`
  - **Change**: Switched from a default export to a named export for the Express `app` instance.
  - **Why**: Resolved a module resolution failure within the `ts-jest` test environment.
  - **How**: Made the `app` import/export explicit and unambiguous for the test runner.

### Compliance Check

- Coding Standards: [N/A] (File not found)
- Project Structure: [✓] (Adheres to high-level architecture)
- Testing Strategy: [N/A] (File not found)
- All ACs Met: [✓]

### Improvements Checklist

- [x] Refactored `package.json` for correct dependency scoping.
- [x] Hardened `tsconfig.json` for better type safety.
- [x] Corrected module import/export issue causing test failure.

### Security Review

No security risks identified in this foundational story.

### Performance Considerations

No performance issues identified.

### Files Modified During Review

*Note: The developer should update the official File List based on these changes.*
- `apps/api/package.json`
- `apps/api/tsconfig.json`
- `apps/api/src/index.ts`
- `apps/api/tests/health.test.ts`

### Gate Status

Gate: PASS → `docs/qa/gates/1.1-project-initialization-health-check.yml`

### Recommended Status

[✓] Ready for Done
